<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Classes Classes Bot × Search results Close Documentation generated by JSDoc 3.4.0 on 2015-12-12T23:51:44+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Telegram Bot APIA simple abstraction for the Telegram Bot API with a powerful command interpreter. npm install --save mivir-telegram-bot-api Example usagevar Bot = require('mivir-telegram-bot-api').Bot; var param = require('mivir-telegram-bot-api').paramTypes; var myBot = new Bot('your-bot-token-here'); // Receive a simple text message myBot.on('text', function(bot, message, next, done) { console.log('I received a text message:', message.text); next(); // Continue to other listeners }); // Respond to /echo and /echo@username myBot.onCommand('echo', function(bot, message, params, next, done) { bot.sendMessage(message.chat.id, 'Echoing: ' + message.text); done(); // Don't process other listeners for this message anymore }); // Respond to /roll &lt;number&gt; myBot.onCommand('roll', [param.NUM], function(bot, message, params, next, done) { // The param we defined as a number above is now accessible in params[0] var rollResult = Math.floor(Math.random() * params[0]); bot.sendMessage(message.chat.id, 'Roll result: ' + randomNum); done(); }); // Respond to both /random &lt;min&gt; &lt;max&gt; and /random &lt;max&gt; myBot.onCommand('random', [ ['num1', param.NUM], ['num2', param.NUM, {optional: true}] ], function(bot, message, params, next, done) { var min, max; if (params.num1 &amp;&amp; params.num2) { min = params.num1; max = params.num2; } else { min = 0; max = params.num1; } var randomNum = Math.floor(Math.random() * (max - min) + min); bot.sendMessage(message.chat.id, 'Random number between ' + min + ' and ' + max + ': ' + randomNum); done(); }); // Respond to /whereis &lt;location&gt; by sending coordinates // that show up as a map to Telegram users myBot.onCommand('whereis', [param.STRING], function(bot, message, params, next, done) { var location = params[0], coords = null; if (location.toLowerCase() === 'london') { coords = ['51.511072', '-0.127798']; } if (coords) { bot.sendLocation(message.chat.id, coords[0], coords[1]); } else { bot.sendMessage(message.chat.id, &quot;I don't know :(&quot;); } done(); });Full API documentationFor full API documentation (generated with JSDOC), see the following URL: https://Dragory.github.io/telegram-bot-api × Search results Close Documentation generated by JSDoc 3.4.0 on 2015-12-12T23:51:44+02:00 using the DocStrap template. "},"Bot.html":{"id":"Bot.html","title":"Class: Bot","body":" Class: Bot Bot new Bot() A JavaScript interface for using the Telegram Bot API Methods apiPostRequest(method, formData) Sends a POST API request to the specified method Parameters: Name Type Description method String Method to call formData Object Form data to send along with the request Returns: A promise that resolves with the result once the API request has finished Type Promise apiRequest(method, params) Sends a GET API request to the specified method Parameters: Name Type Description method String Method to call params Object Query parameters of the request Returns: A promise that resolves with the result once the API request has finished Type Promise callListener(listener, update, next, done) Calls the specified listener with the given update Parameters: Name Type Description listener function Listener function to call update Object The Telegram update object next function A function to call when the next listener should be called done function A function to call when this should be the last listener for the update Returns: Type void getFile(fileId) Returns information about the specified file ID More info: https://core.telegram.org/bots/api#getfile Parameters: Name Type Description fileId Number ID of the file Returns: A promise that resolves with the result once the API request has finished Type Promise getUserProfilePhotos(userId) Returns a list of profile photos for the specified user More info: https://core.telegram.org/bots/api#getuserprofilephotos Parameters: Name Type Description userId Number ID of the user Returns: A promise that resolves with the result once the API request has finished Type Promise on(event, cb) Attaches an event listener for the specified event type Parameters: Name Type Description event String Type of event cb function Callback to call when the event fires Returns: Type void onCommand(triggerSymbol, cmd, params, cb) Attach an event listener to when a text message with a matching command is received This function accepts a variable number of arguments: (cmd, cb) (cmd, params, cb) (triggerSymbol, cmd, params, cb) Parameters: Name Type Description triggerSymbol String String to prefix the command with; defaults to '/' cmd String Command to match, WITHOUT the leading triggerSymbol (e.g. '/') params Array Parameters the command accepts. Parameters can either be regex strings or the following array construct: [name, regexString, options] Where name and regexString are strings and options is an optional object. Available options: optional Whether the parameter is optional or not; defaults to false stripQuotes Whether to strip wrapping quotes from parameters; defaults to true Parameters are matched as both triggerSymbol+cmd and triggerSymbol+cmd@botUsername. For example, both of these will match: /getLocation London or /getLocation@myBot London cb function Listener to call when the command matches Returns: Type void sendAction(chatId, action) Sends a chat action to the specified chat More info: https://core.telegram.org/bots/api#sendchataction Parameters: Name Type Description chatId Number ID of the target chat action String Type of action to send Returns: A promise that resolves with the result once the API request has finished Type Promise sendAudio(chatId, audio) Sends audio to the specified chat For uploading an audio file, see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#sendaudio Parameters: Name Type Description chatId Number ID of the target chat audio mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise sendDocument(chatId, document) Sends a document to the specified chat For uploading a document file, see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#senddocument Parameters: Name Type Description chatId Number ID of the target chat document mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise sendLocation(chatId, latitude, longitude) Sends a location to the specified chat More info: https://core.telegram.org/bots/api#sendlocation Parameters: Name Type Description chatId Number ID of the target chat latitude String | Number Latitude of the location longitude String | Number Longitude of the location Returns: A promise that resolves with the result once the API request has finished Type Promise sendPhoto(chatId, photo) Sends a photo to the specified chat For uploading a photo, see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#sendphoto Parameters: Name Type Description chatId Number ID of the target chat photo mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise sendSticker(chatId, sticker) Sends a sticker to the specified chat For uploading a sticker (image file), see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#sendsticker Parameters: Name Type Description chatId Number ID of the target chat sticker mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise sendVideo(chatId, video) Sends a video to the specified chat For uploading a video file, see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#sendvideo Parameters: Name Type Description chatId Number ID of the target chat video mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise sendVoice(chatId, voice) Sends a voice recording to the specified chat For uploading a voice recording (an audio file), see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#sendvoice Parameters: Name Type Description chatId Number ID of the target chat voice mixed File ID to resend or a file to upload Returns: A promise that resolves with the result once the API request has finished Type Promise setWebhook(url, certificate) Sets an HTTPS URL where Telegram will send updates Note: this WILL disable all updates/messages from the API For uploading the certificate, see allowed parameters here: https://github.com/request/request#multipartform-data-multipart-form-uploads More info: https://core.telegram.org/bots/api#setwebhook Parameters: Name Type Description url String HTTPS url to send updates to certificate mixed Your publickey certificate Returns: A promise that resolves with the result once the API request has finished Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2015-12-12T23:51:44+02:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
